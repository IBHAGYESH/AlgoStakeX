<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AlgoStakeX Staking Platform Demo</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- for local testing-->
    <script defer src="../../dist/algostakex.js"></script>
    <!-- for live testing-->
    <!-- <script
      defer
      src="https://cdn.jsdelivr.net/gh/IBHAGYESH/AlgoStakeX@v1.0.0/dist/algostakex.js"
    ></script> -->
    <script defer src="./index.js"></script>
  </head>
  <body>
    <header>
      <div class="container header-content">
        <div class="logo">
          <img src="logo.png" alt="AlgoStakeX Logo" />
          <h1>ðŸŽ® AlgoStakeX Staking Platform</h1>
        </div>
        <div id="profile-section" class="profile-section" style="display: none">
          <div class="wallet-info">
            <span id="wallet-address"></span>
          </div>
          <div class="profile-avatar">
            <img
              src="https://img.icons8.com/ios-filled/50/ffffff/user-male-circle.png"
              alt="Profile"
            />
          </div>
        </div>
      </div>
    </header>

    <nav>
      <div class="container">
        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="profile.html">Profile</a>
          <a href="about.html">About</a>
        </div>
      </div>
    </nav>

    <main>
      <div class="container">
        <h2 class="page-title">Staking Dashboard</h2>

        <!-- Wallet Connection Section -->
        <div id="wallet-connection-section" class="wallet-connection-section">
          <h3>Connect Your Wallet</h3>
          <p>
            Connect your wallet to start staking and unlock premium features
          </p>
          <button class="btn btn-primary" id="connect-wallet-btn">
            Connect Wallet
          </button>
        </div>

        <!-- Staking Info Section -->
        <div id="staking-section" class="staking-section" style="display: none">
          <div class="stats-grid">
            <div class="stat-card">
              <h3>Your Staked Amount</h3>
              <p class="stat-value" id="staked-amount">0</p>
              <p class="stat-label">tokens</p>
            </div>
            <div class="stat-card">
              <h3>Reward Type</h3>
              <p class="stat-value" id="reward-type">-</p>
              <p class="stat-label" id="reward-info">-</p>
            </div>
            <div class="stat-card">
              <h3>Status</h3>
              <p class="stat-value" id="staking-status">Not Staking</p>
              <p class="stat-label" id="staking-details">-</p>
            </div>
          </div>

          <div class="actions-section">
            <h3>Actions</h3>
            <div class="action-buttons">
              <button
                class="btn btn-primary"
                id="stake-btn"
                onclick="openStakeModal()"
              >
                Stake Tokens
              </button>
              <button
                class="btn btn-secondary"
                id="withdraw-btn"
                onclick="withdrawStake()"
                id="withdraw-btn"
                disabled
              >
                Withdraw
              </button>
              <button
                class="btn btn-warning"
                id="emergency-withdraw-btn"
                onclick="emergencyWithdrawStake()"
                disabled
              >
                Emergency Withdraw
              </button>
            </div>
          </div>

          <!-- Available Tokens Section -->
          <div class="tokens-section">
            <h3>Available Tokens in Wallet</h3>
            <div id="tokens-list" class="tokens-list">
              <p class="loading-text">Loading tokens...</p>
            </div>
          </div>
        </div>

        <div id="loading" class="loading-container" style="display: none">
          <div class="loading-spinner"></div>
          <p class="loading-text">Loading...</p>
        </div>
      </div>
    </main>

    <!-- Stake Modal -->
    <div id="stake-modal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close" onclick="closeStakeModal()">&times;</span>
        <h3>Stake Tokens</h3>
        <form id="stake-form">
          <div class="form-group">
            <label for="stake-amount">Amount</label>
            <input
              type="number"
              id="stake-amount"
              class="form-control"
              required
              min="1"
              step="1"
            />
          </div>
          <div class="form-group">
            <label for="lock-period">Lock Period (minutes)</label>
            <input
              type="number"
              id="lock-period"
              class="form-control"
              value="1440"
              min="0"
            />
            <small>Leave 0 for flexible staking</small>
          </div>
          <button type="submit" class="btn btn-primary">Stake</button>
        </form>
      </div>
    </div>

    <footer>
      <div class="container footer-content">
        <p>
          &copy;
          <script>
            document.write(new Date().getFullYear());
          </script>
          AlgoStakeX Staking Platform. All rights reserved.
        </p>
      </div>
    </footer>
  </body>
</html>
